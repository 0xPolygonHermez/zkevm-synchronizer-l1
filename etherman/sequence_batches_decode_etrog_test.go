package etherman

import (
	"encoding/hex"
	"testing"

	"github.com/ethereum/go-ethereum/common"
	"github.com/stretchr/testify/require"
)

const (
	txDataEtrogHex = "ecef3f990000000000000000000000000000000000000000000000000000000000000040000000000000000000000000761d53b47334bee6612c0bd1467fb881435375b2000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000140c0b000009ff000000010b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b0000039a00000002ed82c566840646c02082520894417a7ba2d8d0060ae6c54fd098590db854b9c1d58609184e72a0008082098a80807253da669b2120e437c571610d9cee00c858cf3372aae4c3ed62dacc195046e74e0c486c4729a93e98dc545e988cbed672ceef55fd053838d2c3453c2ca5d0881bff0b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b0000000300000000ed82c5678402bc60e082520894417a7ba2d8d0060ae6c54fd098590db854b9c1d58609184e72a0008082098a80802443e6ad6896c53bfab5158bad2b3e0e8f394327429d385c2ed06073d5ddee10255a3f04b133d6a429ede9034133c06d7d45488b25b8c94cbc3864bf6b55c1bd1cff0b0000000300000000ec82c56883e975a082520894417a7ba2d8d0060ae6c54fd098590db854b9c1d58609184e72a0008082098a80801347492658eccdf8d8ce2661e9839cd5a0bf686811458684f0c76d15d3883dc900f419b1913459aacedfe1302b0e33c666ac38eab89d316f554a8915251466911bff0b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000030b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b0000000300000000ed82c5698402bc60e082520894417a7ba2d8d0060ae6c54fd098590db854b9c1d58609184e72a0008082098a808072f2383ad4072fdd10136146e34a07afab3e31cccc3f224d35819b6c1426e93c6c5d790d959ea3cc771c47e1c86bb5f3890f688375595db43991145645f83f2b1bff0b0000000300000000ec82c56a83e975a082520894417a7ba2d8d0060ae6c54fd098590db854b9c1d58609184e72a0008082098a8080cb06fde9c2e439c24a3554d650ccfe2358ca938658b631b8076bf5208463353f247273123ef18bf21d3d063c22f3968cdca6993e7e98ddc469a57b4d3b6e83b51bff0b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b0000000300000000f9016c8204fb83e975a0828ac994dbc6981a11fc2b000c635bfa7c47676b25c87d3980b9014401d5062a00000000000000000000000085ceb41028b1a5ed2b88e395145344837308b251000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000e10000000000000000000000000000000000000000000000000000000000000004499a88ec4000000000000000000000000528e26b25a34a4a5d0dbda1d57d318153d2ed5820000000000000000000000001f4479ccb333fcba58e68f04e38f3ab070983b310000000000000000000000000000000000000000000000000000000082098a8080aa674af1f2cbfaa5b0ac761695d070e09f95582158e124d955f89b3f0330bffc4b37067f0bc428f198d82e611cef239ff84a8ba6e47473cd3a371f7a08af8ef71cff0b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b0000000300000000ed82c56b8402bc60e082520894417a7ba2d8d0060ae6c54fd098590db854b9c1d58609184e72a0008082098a8080772be78177b949f59bdeffcbf72da39b12f3410423b4ebce136ef3b4813788be3e70ebbd1ac8d332a920511c791dc03e517d717fad57961c2ea78eedb52c3fb71bff0b0000000300000000ec82c56c83e975a082520894417a7ba2d8d0060ae6c54fd098590db854b9c1d58609184e72a0008082098a808011c1e4ba436f71fa5fcc69f0fb2ab263269c969686478e65833627e1ab90514b765d3b23bf19c939816f79a6b2d945566459eca8da9284a426be9d3f336964d01bff0b00000003000000000b00000003000000000b00000003000000000b00000003000000000b0000000300000000f9016c8204fc83e975a0828ac994dbc6981a11fc2b000c635bfa7c47676b25c87d3980b9014401d5062a00000000000000000000000085ceb41028b1a5ed2b88e395145344837308b251000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000e10000000000000000000000000000000000000000000000000000000000000004499a88ec4000000000000000000000000528e26b25a34a4a5d0dbda1d57d318153d2ed5820000000000000000000000001f4479ccb333fcba58e68f04e38f3ab070983b310000000000000000000000000000000000000000000000000000000082098a80807ebe71b3d331d4acb7c9c7b26ea5ce1001f3ed1271bdbc3ce1ea7fb3611720ce42b838370ac3e44a2d410a7c31a130b80dc90b7fb26684764ecb6cf6876456541cff0b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b0000000300000000f9014d8204fd83e975a0830166bc94dbc6981a11fc2b000c635bfa7c47676b25c87d3980b90124134008d300000000000000000000000085ceb41028b1a5ed2b88e395145344837308b251000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004499a88ec4000000000000000000000000528e26b25a34a4a5d0dbda1d57d318153d2ed5820000000000000000000000001f4479ccb333fcba58e68f04e38f3ab070983b310000000000000000000000000000000000000000000000000000000082098a8080761e47d90088b5e3a29a6b0292392daec129e2c189d55702e1e2a196ae3818b817114adb404ebd3ee2bd6e71531248538b4cd9f5df893927664f981073dfa5eb1cff0b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b0000000300000000ed82c56d8402bc60e082520894417a7ba2d8d0060ae6c54fd098590db854b9c1d58609184e72a0008082098a8080124ca004395f26c37f8e53ce02b34cf8b95a8d990f84bd7f2e8dbdb8f5bffee3402dc6ac9423e119b62d79a99adc7f93ced8ae4d2c4f387305109d2b54d6018e1bff0b0000000300000000ec82c56e83e975a082520894417a7ba2d8d0060ae6c54fd098590db854b9c1d58609184e72a0008082098a8080931bca68ce1452bb5fe34529902fbc9e49b3a04750a449d90f83ef39ef157d8d05b0f1518b97a40b44233b6e0425bae1a4a395907839ccced43ef21f3c5b1aac1bff0b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b0000000300000000ed82c56f8402bc60e082520894417a7ba2d8d0060ae6c54fd098590db854b9c1d58609184e72a0008082098a8080192f437e24128dfc37ef76825916ef3292a7b7ec1e7f477e529a1c7ccac9aa3425330c0a821fee7a6f5f081652d4e88a0f892450a0da532d6c86e353c781739c1bff0b0000000300000000ec82c57083e975a082520894417a7ba2d8d0060ae6c54fd098590db854b9c1d58609184e72a0008082098a808014a58636aa8041924d8b9063e19a846ae7426c154e5b86bebd8ddb41f9e948a9200a05a4fcf78f8be3e260ec08bffedbf2edbd2331dba829059912c3783228441bff0b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000000000000000000000000000000000000000000"
	expectedEtrog  = `BatchNumber: 53894
L1InfoRoot: 0x7483d694d1205f6e72949409494a6674fb90f9bcca6763ba6a86177c0ead2175
SequencerAddr: 0x761d53b47334bEe6612c0Bd1467FB881435375B2
TxHash: 0x4cfe3c40423272d4c7e9e62ef04fe0daf4f93b7c74fd2ce85681439540fed351
Nonce: 5345
Coinbase: 0x761d53b47334bEe6612c0Bd1467FB881435375B2
PolygonZkEVMBatchData: nil
___PolygonRollupBaseEtrogBatchData:ForcedTimestamp: 0
___PolygonRollupBaseEtrogBatchData:ForcedGlobalExitRoot: 0000000000000000000000000000000000000000000000000000000000000000
___PolygonRollupBaseEtrogBatchData:ForcedBlockHashL1: 0000000000000000000000000000000000000000000000000000000000000000
___PolygonRollupBaseEtrogBatchData:Transactions: 0b000009ff000000010b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b0000039a00000002ed82c566840646c02082520894417a7ba2d8d0060ae6c54fd098590db854b9c1d58609184e72a0008082098a80807253da669b2120e437c571610d9cee00c858cf3372aae4c3ed62dacc195046e74e0c486c4729a93e98dc545e988cbed672ceef55fd053838d2c3453c2ca5d0881bff0b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b0000000300000000ed82c5678402bc60e082520894417a7ba2d8d0060ae6c54fd098590db854b9c1d58609184e72a0008082098a80802443e6ad6896c53bfab5158bad2b3e0e8f394327429d385c2ed06073d5ddee10255a3f04b133d6a429ede9034133c06d7d45488b25b8c94cbc3864bf6b55c1bd1cff0b0000000300000000ec82c56883e975a082520894417a7ba2d8d0060ae6c54fd098590db854b9c1d58609184e72a0008082098a80801347492658eccdf8d8ce2661e9839cd5a0bf686811458684f0c76d15d3883dc900f419b1913459aacedfe1302b0e33c666ac38eab89d316f554a8915251466911bff0b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000030b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b0000000300000000ed82c5698402bc60e082520894417a7ba2d8d0060ae6c54fd098590db854b9c1d58609184e72a0008082098a808072f2383ad4072fdd10136146e34a07afab3e31cccc3f224d35819b6c1426e93c6c5d790d959ea3cc771c47e1c86bb5f3890f688375595db43991145645f83f2b1bff0b0000000300000000ec82c56a83e975a082520894417a7ba2d8d0060ae6c54fd098590db854b9c1d58609184e72a0008082098a8080cb06fde9c2e439c24a3554d650ccfe2358ca938658b631b8076bf5208463353f247273123ef18bf21d3d063c22f3968cdca6993e7e98ddc469a57b4d3b6e83b51bff0b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b0000000300000000f9016c8204fb83e975a0828ac994dbc6981a11fc2b000c635bfa7c47676b25c87d3980b9014401d5062a00000000000000000000000085ceb41028b1a5ed2b88e395145344837308b251000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000e10000000000000000000000000000000000000000000000000000000000000004499a88ec4000000000000000000000000528e26b25a34a4a5d0dbda1d57d318153d2ed5820000000000000000000000001f4479ccb333fcba58e68f04e38f3ab070983b310000000000000000000000000000000000000000000000000000000082098a8080aa674af1f2cbfaa5b0ac761695d070e09f95582158e124d955f89b3f0330bffc4b37067f0bc428f198d82e611cef239ff84a8ba6e47473cd3a371f7a08af8ef71cff0b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b0000000300000000ed82c56b8402bc60e082520894417a7ba2d8d0060ae6c54fd098590db854b9c1d58609184e72a0008082098a8080772be78177b949f59bdeffcbf72da39b12f3410423b4ebce136ef3b4813788be3e70ebbd1ac8d332a920511c791dc03e517d717fad57961c2ea78eedb52c3fb71bff0b0000000300000000ec82c56c83e975a082520894417a7ba2d8d0060ae6c54fd098590db854b9c1d58609184e72a0008082098a808011c1e4ba436f71fa5fcc69f0fb2ab263269c969686478e65833627e1ab90514b765d3b23bf19c939816f79a6b2d945566459eca8da9284a426be9d3f336964d01bff0b00000003000000000b00000003000000000b00000003000000000b00000003000000000b0000000300000000f9016c8204fc83e975a0828ac994dbc6981a11fc2b000c635bfa7c47676b25c87d3980b9014401d5062a00000000000000000000000085ceb41028b1a5ed2b88e395145344837308b251000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000e10000000000000000000000000000000000000000000000000000000000000004499a88ec4000000000000000000000000528e26b25a34a4a5d0dbda1d57d318153d2ed5820000000000000000000000001f4479ccb333fcba58e68f04e38f3ab070983b310000000000000000000000000000000000000000000000000000000082098a80807ebe71b3d331d4acb7c9c7b26ea5ce1001f3ed1271bdbc3ce1ea7fb3611720ce42b838370ac3e44a2d410a7c31a130b80dc90b7fb26684764ecb6cf6876456541cff0b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b0000000300000000f9014d8204fd83e975a0830166bc94dbc6981a11fc2b000c635bfa7c47676b25c87d3980b90124134008d300000000000000000000000085ceb41028b1a5ed2b88e395145344837308b251000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004499a88ec4000000000000000000000000528e26b25a34a4a5d0dbda1d57d318153d2ed5820000000000000000000000001f4479ccb333fcba58e68f04e38f3ab070983b310000000000000000000000000000000000000000000000000000000082098a8080761e47d90088b5e3a29a6b0292392daec129e2c189d55702e1e2a196ae3818b817114adb404ebd3ee2bd6e71531248538b4cd9f5df893927664f981073dfa5eb1cff0b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b0000000300000000ed82c56d8402bc60e082520894417a7ba2d8d0060ae6c54fd098590db854b9c1d58609184e72a0008082098a8080124ca004395f26c37f8e53ce02b34cf8b95a8d990f84bd7f2e8dbdb8f5bffee3402dc6ac9423e119b62d79a99adc7f93ced8ae4d2c4f387305109d2b54d6018e1bff0b0000000300000000ec82c56e83e975a082520894417a7ba2d8d0060ae6c54fd098590db854b9c1d58609184e72a0008082098a8080931bca68ce1452bb5fe34529902fbc9e49b3a04750a449d90f83ef39ef157d8d05b0f1518b97a40b44233b6e0425bae1a4a395907839ccced43ef21f3c5b1aac1bff0b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b0000000300000000ed82c56f8402bc60e082520894417a7ba2d8d0060ae6c54fd098590db854b9c1d58609184e72a0008082098a8080192f437e24128dfc37ef76825916ef3292a7b7ec1e7f477e529a1c7ccac9aa3425330c0a821fee7a6f5f081652d4e88a0f892450a0da532d6c86e353c781739c1bff0b0000000300000000ec82c57083e975a082520894417a7ba2d8d0060ae6c54fd098590db854b9c1d58609184e72a0008082098a808014a58636aa8041924d8b9063e19a846ae7426c154e5b86bebd8ddb41f9e948a9200a05a4fcf78f8be3e260ec08bffedbf2edbd2331dba829059912c3783228441bff0b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b0000000300000000
SequencedBatchElderberryData: nil
Metadata: SourceBatchData:  RollupFlavor: kEVM CallFunctionName: sequenceBatchesEtrog ForkName: etrog
`
)

func TestSequencedBatchEtrogDecode(t *testing.T) {
	sut, err := NewDecodeSequenceBatchesEtrog()
	require.NoError(t, err)
	require.NotNil(t, sut)
	txData, err := hex.DecodeString(txDataEtrogHex)
	require.NoError(t, err)
	lastBatchNumber := uint64(53894)
	sequencer := common.HexToAddress("0x761d53b47334bEe6612c0Bd1467FB881435375B2")
	txHash := common.HexToHash("0x4cfe3c40423272d4c7e9e62ef04fe0daf4f93b7c74fd2ce85681439540fed351")
	nonce := uint64(5345)
	l1InfoRoot := common.HexToHash("0x7483d694d1205f6e72949409494a6674fb90f9bcca6763ba6a86177c0ead2175")
	res, err := sut.DecodeSequenceBatches(txData, lastBatchNumber, sequencer, txHash, nonce, l1InfoRoot)
	require.NoError(t, err)
	require.NotNil(t, res)
	require.Equal(t, 1, len(res))
	res0 := res[0].String()
	require.Equal(t, expectedEtrog, res0)
}

func TestSequencedBatchEtrogMatchMethodId(t *testing.T) {
	sut, err := NewDecodeSequenceBatchesEtrog()
	require.NoError(t, err)
	require.False(t, sut.MatchMethodId([]byte{0x01, 0x02, 0x03, 0x04}))
	require.True(t, sut.MatchMethodId(methodIDSequenceBatchesEtrog))
}

func TestSequencedBatchEtrogNameMethodId(t *testing.T) {
	sut, err := NewDecodeSequenceBatchesEtrog()
	require.NoError(t, err)
	require.Equal(t, "", sut.NameMethodID([]byte{0x01, 0x02, 0x03, 0x04}))
	require.Equal(t, "sequenceBatchesEtrog", sut.NameMethodID(methodIDSequenceBatchesEtrog))
}
